<div class="info-modal" *ngIf="isVisible" (click)="closeInfo()">
  <div class="info-container" (click)="$event.stopPropagation()">
    <!-- Header -->
    <div class="info-header">
      <div class="d-flex align-items-center">
        <i class="bi bi-info-circle text-primary me-2"></i>
        <h5 class="mb-0">How to Make Video Calls</h5>
      </div>
      <button 
        class="btn btn-outline-secondary btn-sm" 
        (click)="closeInfo()"
        title="Close"
      >
        <i class="bi bi-x-lg"></i>
      </button>
    </div>

    <!-- Content -->
    <div class="info-content">
      <div class="step-guide">
        <div class="step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h6>Connect to Peer Network</h6>
            <p>Click the <span class="badge bg-success">Connect</span> button in the chat header to join the video call network.</p>
          </div>
        </div>

        <div class="step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h6>Share Your Peer ID</h6>
            <p>Once connected, your unique Peer ID will appear next to the "Connected" status. Click the <i class="bi bi-clipboard text-muted"></i> button to copy it and share it in the chat with the person you want to call.</p>
          </div>
        </div>

        <div class="step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h6>Get Their Peer ID</h6>
            <p>Ask the other person to share their Peer ID with you in the chat. They need to be connected to the peer network too and have the video call dialog page opened.</p>
          </div>
        </div>

        <div class="step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h6>Start the Video Call</h6>
            <p>Click the <span class="badge bg-primary">Video Call</span> button, then paste the other person's Peer ID and click "Call".</p>
          </div>
        </div>
      </div>

      <div class="tips-section">
        <h6><i class="bi bi-lightbulb text-warning me-2"></i>Tips</h6>
        <ul class="tips-list">
          <li><strong>Both users</strong> must be connected to the peer network and have the video call dialog page opened</li>
          <li><strong>Peer IDs</strong> stay the same during your browser session</li>
          <li><strong>Camera permission</strong> will be requested when you start a call</li>
          <li>Use the <i class="bi bi-arrow-clockwise text-warning"></i> button if you have connection issues</li>
        </ul>
      </div>

      <div class="troubleshooting">
        <h6><i class="bi bi-tools text-info me-2"></i>Troubleshooting</h6>
        <div class="trouble-item">
          <strong>Can't connect?</strong> Try refreshing the page or clicking the reset button.
        </div>
        <div class="trouble-item">
          <strong>Call not working?</strong> Make sure both users are connected and using the correct Peer IDs.
        </div>
        <div class="trouble-item">
          <strong>No video/audio?</strong> Check your browser permissions for camera and microphone access.
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="info-footer">
      <button class="btn btn-primary" (click)="closeInfo()">
        <i class="bi bi-check me-1"></i>
        Got it!
      </button>
    </div>
  </div>
</div>
